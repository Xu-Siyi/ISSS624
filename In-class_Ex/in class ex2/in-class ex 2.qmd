---
title: "in-class 2"
#format: html
format: docx
editor: visual
---

## Overview

## Import data

```{r}
pacman::p_load(sf, spdep, tmap, tidyverse,dplyr, funModeling)
```

data we used

-   geo_export

-   nga_admbnda_adm2_osgof_20190417

change it to shorter name

### import waterpoint

```{r}
# eval: false
wp<- st_read(dsn="geodata",
             layer="geo_export",
             crs=4326) %>%
  filter(clean_coun=="Nigeria")


```

in the

Then I saved it into wp_nga.rds. In this way I can delete geo_export data which is too large to git push.

I add #eval: false to make sure the code chunk will only display

[ref](https://quarto.org/docs/computations/execution-options.html)

```{r}
wp_nga<-write_rds(wp,"geodata/wp_nga.rds")
```

### import Nigeria

```{r}
wp<- st_read(dsn="geodata",
             layer="geoBoundaries-NGA-ADM2",
             crs=4326) %>%
  filter(clean_coun=="Nigeria")
```

## Data Wrangling

### Extracting the necessary data

```{r}
wp_nga<-read_rds("geodata/wp_nga.rds")%>%
  mutate(status_cle = replace_na(status_cle, "Unknown"))
```

```{r}
freq(data=wp_nga,
     input='status_cle')
```

in this code chunk below, filter() is used to select functional water points

```{r}
wpt_functional<-wp_nga %>%
  filter(status_cle %in%
           c("Functional",
             "Functional but not in use",
             "Functional but needs repair"))
```

check

```{r}
freq(data=wpt_functional,
     input='status_cle')
```
